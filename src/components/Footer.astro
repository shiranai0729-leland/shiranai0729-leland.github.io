---
const year = new Date().getFullYear();
---

<div
  class="footer-wrapper relative z-0 h-[50vh]"
  style="clip-path: polygon(0% 0, 100% 0%, 100% 100%, 0 100%);"
>
  <footer
    class="fixed bottom-0 w-full h-[50vh] bg-surface flex flex-col justify-center items-center overflow-hidden"
  >
    <!-- Huge Reveal Text -->
    <div class="relative w-full overflow-hidden">
      <h1
        class="shiranai-text text-[15vw] font-black text-center leading-none text-black/5 tracking-tighter select-none"
      >
        {
          ["S", "H", "I", "R", "A", "N", "A", "I"].map((char, i) => (
            <span class="char inline-block transform translate-y-full">
              {char}
            </span>
          ))
        }
      </h1>
      <div
        class="absolute inset-0 bg-gradient-to-t from-background to-transparent opacity-50"
      >
      </div>
    </div>

    <!-- Standard Footer Content -->
    <div
      class="absolute bottom-8 w-full px-8 md:px-12 flex justify-between items-end z-10"
    >
      <p class="text-gray-600 text-sm font-mono">
        &copy; {year} Shiranai.ASIA.
      </p>
      <div class="flex space-x-6">
        <a
          href="https://github.com/shiranai0729"
          target="_blank"
          rel="noopener noreferrer"
          class="text-gray-500 hover:text-primary transition-colors text-sm font-medium tracking-wide"
          >GITHUB</a
        >
        <a
          href="https://www.linkedin.com/in/lelandliu"
          target="_blank"
          rel="noopener noreferrer"
          class="text-gray-500 hover:text-primary transition-colors text-sm font-medium tracking-wide"
          >LINKEDIN</a
        >
      </div>
    </div>
  </footer>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const chars = document.querySelectorAll(".shiranai-text .char");

  // Create the reveal animation linked to scroll
  gsap.to(chars, {
    y: 0,
    stagger: 0.05,
    ease: "power2.out",
    scrollTrigger: {
      trigger: ".footer-wrapper",
      start: "top bottom", // when top of footer wrapper hits bottom of viewport
      end: "bottom bottom", // when bottom of footer wrapper hits bottom of viewport
      scrub: 1, // smooth scrubbing effect
    },
  });
</script>
