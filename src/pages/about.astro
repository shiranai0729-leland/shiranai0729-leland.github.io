---
import Layout from "../layouts/Layout.astro";

const experiences = [
    {
        title: "Application Engineer",
        company: "Rakuten Group",
        period: "2026 - Present",
        description:
            "Leading the frontend team in rebuilding the core product using Next.js. Improved performance by 40% and established a new design system.",
    },
    {
        title: "AI-Agent Backend Engineer Internship",
        company: "Sangfor Technologies, Advanced AI Research Institute",
        period: "2024",
        description:
            "Leading the frontend team in rebuilding the core product using Next.js. Improved performance by 40% and established a new design system.",
    },
    {
        title: "VUE Developer Internship",
        company: "Harbin Institute of Technology Software Engineering Co.Ltd",
        period: "2022",
        description:
            "Developed and maintained multiple client-facing applications. Implemented real-time features using WebSockets.",
    },
];

const education = [
    {
        title: "M.S.c in Big Data Technology",
        school: "The Hongkong University of Science and Technology",
        period: "2024 - 2025",
        description:
            "Graduated with Honors. Focus on Software Engineering and Artificial Intelligence.",
    },
    {
        title: "B.E. in Computer Science",
        school: "Harbin Institute of Technology (Shenzhen)",
        period: "2020 - 2024",
        description:
            "Graduated with Honors. Focus on Software Engineering and Artificial Intelligence.",
    },
];

const skills = [
    "Java",
    "Python",
    "Spring",
    "Springboot",
    "React",
    "VUE",
    "Django",
    "Android Native Development",
    "Kotlin",
];

const languages = [
    { name: "Mandarin", level: "Native" },
    { name: "English", level: "Fluent (IELTS 8.0)" },
    { name: "Japanese", level: "Conversational (JLPT N2)" },
    { name: "Cantonese", level: "Conversational" },
];

const certificates = [
    "AWS Certified Solutions Architect",
    "Google Cloud Professional Engineer",
    "Certified Kubernetes Administrator (CKA)",
];

const projects = [
    {
        title: "Autonomous Agent Framework",
        description:
            "Developed a distributed framework for multi-agent collaboration using LLMs.",
        link: "https://github.com/shiranai/agentic-flow",
        period: "2024",
    },
    {
        title: "Microservices Observability Tool",
        description:
            "Built a real-time monitoring dashboard for Kubernetes clusters.",
        link: "https://github.com/shiranai/k8s-eye",
        period: "2023",
    },
];

const friendlyLinks = [
    {
        name: "Trae",
        link: "https://www.trae.ai/",
        description: "Adaptive AI Code Editor",
    },
    {
        name: "Astro",
        link: "https://astro.build",
        description: "The web framework for content-driven websites",
    },
];
---

<Layout
    title="About Me | Shiranai"
    description="Learn more about my background, skills, and experience."
>
    <!-- Minimalist Hero -->
    <section class="pt-32 pb-12 md:pt-48 md:pb-24 px-6 md:px-12 bg-background">
        <div class="container mx-auto max-w-6xl">
            <h1
                class="text-7xl md:text-9xl font-heading font-black tracking-tighter text-gray-900 mb-8 leading-[0.9]"
            >
                About.
            </h1>
            <p
                class="text-xl md:text-2xl text-gray-500 font-light max-w-2xl leading-relaxed"
            >
                Fullstack Application Engineer based in Tokyo, Japan.
            </p>
        </div>
    </section>

    <!-- Content Grid -->
    <section class="pb-32 px-6 md:px-12">
        <div class="container mx-auto max-w-6xl">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-24">
                <!-- Left Column: Image & Contact -->
                <div class="md:col-span-5">
                    <div class="sticky top-12">
                        <div
                            class="perspective-1000 mb-12 aspect-[3/4] group cursor-pointer"
                            id="tilt-card-container"
                        >
                            <div
                                class="preserve-3d w-full h-full relative shadow-2xl rounded-2xl"
                                id="tilt-card"
                            >
                                <!-- Front -->
                                <div
                                    class="backface-hidden absolute inset-0 rounded-2xl overflow-hidden bg-gray-100"
                                >
                                    <img
                                        src="/images/about-page.png"
                                        alt="Profile"
                                        class="w-full h-full object-cover"
                                    />
                                </div>
                                <!-- Back -->
                                <div
                                    class="backface-hidden absolute inset-0 rounded-2xl overflow-hidden bg-gray-900 rotate-y-180 flex items-center justify-center"
                                >
                                    <img
                                        src="/images/about-page-back.jpg"
                                        alt="Secret Profile"
                                        class="w-full h-full object-cover opacity-60"
                                    />
                                    <div
                                        class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-8 text-left"
                                    >
                                        <p
                                            class="text-white font-heading text-2xl font-bold mb-2"
                                        >
                                            Shiranai
                                        </p>
                                        <p
                                            class="text-gray-300 font-mono text-sm leading-relaxed"
                                        >
                                            Crafting the unknown, <br />byte by
                                            byte.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-8">
                            <div>
                                <h3
                                    class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-4 border-t border-gray-200 pt-4"
                                >
                                    Location
                                </h3>
                                <span class="text-lg text-gray-900"
                                    >Minato City, Tokyo, Japan</span
                                >
                            </div>
                            <div>
                                <h3
                                    class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-4 border-t border-gray-200 pt-4"
                                >
                                    Contact
                                </h3>
                                <a
                                    href="mailto:sh1ranai@yahoo.com"
                                    class="text-lg text-gray-900 underline decoration-gray-300 hover:decoration-primary underline-offset-4 transition-all"
                                    >sh1ranai@yahoo.com</a
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Bio & Details -->
                <div class="md:col-span-7 space-y-24">
                    <!-- Bio -->
                    <div class="prose prose-lg prose-gray">
                        <p
                            class="text-2xl text-gray-800 leading-relaxed font-light mb-8"
                        >
                            I blend technical expertise with artistic vision to
                            solve complex problems.
                        </p>
                        <p class="text-gray-600">
                            My journey started when I wrote my first line of
                            code in a dimly lit dorm room. Since then, I've
                            worked with innovative startups and established
                            brands, helping them deliver high-quality,
                            performant, and visually stunning web applications.
                        </p>
                    </div>

                    <!-- Experience -->
                    <div>
                        <h2
                            class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-10 border-t border-gray-200 pt-6"
                        >
                            Experience
                        </h2>
                        <div class="space-y-12">
                            {
                                experiences.map((exp) => (
                                    <div class="group">
                                        <div class="flex flex-col md:flex-row md:items-baseline md:justify-between mb-2">
                                            <h3 class="text-xl font-bold text-gray-900 group-hover:text-primary transition-colors">
                                                {exp.title}
                                            </h3>
                                            <span class="font-mono text-sm text-gray-400">
                                                {exp.period}
                                            </span>
                                        </div>
                                        <div class="text-gray-500 text-sm mb-4 font-medium">
                                            {exp.company}
                                        </div>
                                        <p class="text-gray-600 leading-relaxed">
                                            {exp.description}
                                        </p>
                                    </div>
                                ))
                            }
                        </div>
                    </div>

                    <!-- Education -->
                    <div>
                        <h2
                            class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-10 border-t border-gray-200 pt-6"
                        >
                            Education
                        </h2>
                        <div class="space-y-12">
                            {
                                education.map((edu) => (
                                    <div>
                                        <div class="flex flex-col md:flex-row md:items-baseline md:justify-between mb-2">
                                            <h3 class="text-xl font-bold text-gray-900">
                                                {edu.title}
                                            </h3>
                                            <span class="font-mono text-sm text-gray-400">
                                                {edu.period}
                                            </span>
                                        </div>
                                        <div class="text-gray-500 text-sm mb-4 font-medium">
                                            {edu.school}
                                        </div>
                                        <p class="text-gray-600 leading-relaxed">
                                            {edu.description}
                                        </p>
                                    </div>
                                ))
                            }
                        </div>
                    </div>

                    <!-- Projects -->
                    <div>
                        <h2
                            class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-10 border-t border-gray-200 pt-6"
                        >
                            Featured Projects
                        </h2>
                        <div class="space-y-12">
                            {
                                projects.map((project) => (
                                    <div>
                                        <div class="flex flex-col md:flex-row md:items-baseline md:justify-between mb-2">
                                            <h3 class="text-xl font-bold text-gray-900">
                                                {project.title}
                                            </h3>
                                            <span class="font-mono text-sm text-gray-400">
                                                {project.period}
                                            </span>
                                        </div>
                                        <p class="text-gray-600 leading-relaxed mb-4">
                                            {project.description}
                                        </p>
                                        <a
                                            href={project.link}
                                            class="text-sm font-medium text-primary hover:underline underline-offset-4 inline-flex items-center gap-1"
                                        >
                                            View Source
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                fill="none"
                                                viewBox="0 0 24 24"
                                                stroke-width="2"
                                                stroke="currentColor"
                                                class="w-3 h-3"
                                            >
                                                <path
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"
                                                />
                                            </svg>
                                        </a>
                                    </div>
                                ))
                            }
                        </div>
                    </div>

                    <!-- Language Row -->
                    <div class="grid grid-cols-1 md:grid-cols-1 gap-12">
                        <!-- Languages -->
                        <div>
                            <h2
                                class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-8 border-t border-gray-200 pt-6"
                            >
                                Languages
                            </h2>
                            <ul class="flex flex-wrap gap-x-12 gap-y-4">
                                {
                                    languages.map((lang) => (
                                        <li class="flex items-center gap-4">
                                            <span class="text-gray-900 font-medium">
                                                {lang.name}
                                            </span>
                                            <span class="text-gray-400 text-sm font-mono">
                                                {lang.level}
                                            </span>
                                        </li>
                                    ))
                                }
                            </ul>
                        </div>
                    </div>

                    <!-- Skills (Moved to Bottom) -->
                    <div>
                        <h2
                            class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-10 border-t border-gray-200 pt-6"
                        >
                            Tech Stack
                        </h2>
                        <ul class="columns-2 md:columns-3 space-y-2">
                            {
                                skills.map((skill) => (
                                    <li class="text-gray-600 font-medium">
                                        {skill}
                                    </li>
                                ))
                            }
                        </ul>
                    </div>

                    <!-- Friendly Links -->
                    <div>
                        <h2
                            class="font-mono text-xs uppercase tracking-widest text-gray-400 mb-10 border-t border-gray-200 pt-6"
                        >
                            Friendly Links
                        </h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            {
                                friendlyLinks.map((link) => (
                                    <a
                                        href={link.link}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="group block p-6 border border-gray-100 rounded-xl hover:border-primary/30 hover:bg-primary/[0.02] transition-all duration-300"
                                    >
                                        <div class="flex items-center justify-between mb-2">
                                            <span class="text-lg font-bold text-gray-900 group-hover:text-primary transition-colors">
                                                {link.name}
                                            </span>
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                fill="none"
                                                viewBox="0 0 24 24"
                                                stroke-width="2"
                                                stroke="currentColor"
                                                class="w-4 h-4 text-gray-300 group-hover:text-primary group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"
                                            >
                                                <path
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"
                                                />
                                            </svg>
                                        </div>
                                        <p class="text-sm text-gray-500 line-clamp-1">
                                            {link.description}
                                        </p>
                                    </a>
                                ))
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Subtle Scroll Reveal Script -->
    <script>
        import { gsap } from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";

        gsap.registerPlugin(ScrollTrigger);

        // Simple entrance
        gsap.from("h1", { opacity: 0, y: 50, duration: 1, ease: "power3.out" });
        gsap.from("p", {
            opacity: 0,
            y: 30,
            duration: 1,
            delay: 0.2,
            ease: "power3.out",
        });

        // Stagger grid items appear
        const sections = document.querySelectorAll(".md\\:col-span-7 > div");
        sections.forEach((section, i) => {
            gsap.from(section, {
                scrollTrigger: {
                    trigger: section,
                    start: "top 90%",
                },
                opacity: 0,
                y: 30,
                duration: 0.8,
                delay: 0.1,
                ease: "power2.out",
            });
        });

        // Cursor-driven tilt effect
        const cardContainer = document.querySelector("#tilt-card-container");
        const card = document.querySelector("#tilt-card");
        let isFlipped = false;

        if (cardContainer && card) {
            cardContainer.addEventListener("mousemove", (e) => {
                const mouseEvent = e as MouseEvent;
                const rect = cardContainer.getBoundingClientRect();
                const x = mouseEvent.clientX - rect.left;
                const y = mouseEvent.clientY - rect.top;

                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                // Calculate rotation based on cursor position relative to center
                // Sensitivity 1/15
                const rotateX = (y - centerY) / 15;
                const rotateY = (centerX - x) / 15;

                const baseRotateY = isFlipped ? 180 : 0;

                gsap.to(card, {
                    rotateX: rotateX,
                    rotateY: baseRotateY + rotateY,
                    scale: 1.02,
                    duration: 0.2,
                    ease: "power2.out",
                    overwrite: "auto",
                });
            });

            cardContainer.addEventListener("mouseleave", () => {
                const baseRotateY = isFlipped ? 180 : 0;
                gsap.to(card, {
                    rotateX: 0,
                    rotateY: baseRotateY,
                    scale: 1,
                    duration: 0.8,
                    ease: "elastic.out(1, 0.6)",
                });
            });

            cardContainer.addEventListener("click", () => {
                isFlipped = !isFlipped;
                gsap.to(card, {
                    rotateY: isFlipped ? 180 : 0,
                    duration: 0.8,
                    ease: "back.out(1.2)",
                });
            });
        }
    </script>

    <style>
        .perspective-1000 {
            perspective: 1000px;
        }
        .preserve-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
    </style>
</Layout>
