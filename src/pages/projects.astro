---
import Layout from "../layouts/Layout.astro";
import { MoveUpRight, Github, Lock, Award, ExternalLink } from "lucide-react";

const projects = [
    {
        title: "Agentic Flow",
        description: "A distributed framework for multi-agent collaboration using LLMs. Orchestrates complex workflows with autonomous agents.",
        image: "/images/about-page.png", // Placeholder
        link: "https://agentic-flow.dev",
        github: "https://github.com/shiranai/agentic-flow",
        tags: ["AI", "Typescript", "LLM"],
        status: "live"
    },
    {
        title: "K8s Eye",
        description: "Real-time monitoring dashboard for Kubernetes clusters with predictive anomaly detection.",
        image: "/images/about-page-back.jpg", // Placeholder
        link: "#",
        github: "https://github.com/shiranai/k8s-eye",
        tags: ["Kubernetes", "Go", "React"],
        status: "construction"
    },
    {
        title: "Neural Canvas",
        description: "Generative art platform allowing users to co-create digital masterpieces with AI.",
        image: "/images/avatar.png", // Placeholder
        link: "#",
        github: null,
        tags: ["Next.js", "Three.js", "Canvas"],
        status: "construction"
    }
];

const certificates = [
    {
        title: "AWS Certified Solutions Architect",
        issuer: "Amazon Web Services",
        date: "2024",
        logo: "https://upload.wikimedia.org/wikipedia/commons/9/93/Amazon_Web_Services_Logo.svg",
        link: "#",
        description: "Validated expertise in designing distributed systems on AWS."
    },
    {
        title: "Google Cloud Professional Engineer",
        issuer: "Google Cloud",
        date: "2023",
        logo: "https://upload.wikimedia.org/wikipedia/commons/5/51/Google_Cloud_logo.svg",
        link: "#",
        description: "Demonstrated ability to design, build, and manage solutions on Google Cloud."
    },
    {
        title: "Certified Kubernetes Administrator (CKA)",
        issuer: "The Linux Foundation",
        date: "2023",
        logo: "https://upload.wikimedia.org/wikipedia/commons/3/39/Kubernetes_logo_without_workmark.svg",
        link: "#",
        description: "Certified proficiency in Kubernetes installation, configuration, and management."
    }
];
---

<Layout title="Projects | Shiranai" description="My portfolio of projects and certifications.">
    <section class="pt-32 pb-12 md:pt-48 md:pb-24 px-6 md:px-12 bg-background relative overflow-hidden">
        <div class="container mx-auto max-w-6xl">
            <!-- Header -->
            <div class="mb-24">
                <h1 class="text-7xl md:text-9xl font-heading font-black tracking-tighter text-gray-900 mb-8 leading-[0.9]">
                    Work.
                </h1>
                <p class="text-xl md:text-2xl text-gray-500 font-light max-w-2xl leading-relaxed">
                    A collection of experiments, products, and verified expertise.
                </p>
            </div>

            <!-- Projects Grid -->
            <section class="mb-32">
                <div class="flex items-end justify-between mb-12 border-b border-black text-black pb-4">
                    <h2 class="font-mono text-sm uppercase tracking-widest">Selected Projects</h2>
                    <span class="font-mono text-sm">{projects.length} Items</span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-20">
                    {projects.map((project, index) => (
                        <div class="project-item group">
                             <!-- Image Container -->
                            <div class="relative overflow-hidden rounded-xl aspect-[16/10] bg-gray-100 mb-6">
                                <img 
                                    src={project.image} 
                                    alt={project.title}
                                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 will-change-transform"
                                />
                                <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4">
                                     {project.status === 'live' ? (
                                        <a href={project.link} target="_blank" class="p-3 bg-white text-black rounded-full hover:scale-110 transition-transform" title="Visit Website">
                                            <MoveUpRight className="w-5 h-5" />
                                        </a>
                                     ) : (
                                        <div class="p-3 bg-white/20 text-white backdrop-blur-md rounded-full cursor-not-allowed" title="Under Construction">
                                            <Lock className="w-5 h-5" />
                                        </div>
                                     )}
                                     {project.github && (
                                         <a href={project.github} target="_blank" class="p-3 bg-white text-black rounded-full hover:scale-110 transition-transform" title="View Source">
                                            <Github className="w-5 h-5" />
                                        </a>
                                     )}
                                </div>
                            </div>

                            <!-- Content -->
                            <div>
                                <div class="flex items-baseline justify-between mb-3">
                                    <h3 class="text-3xl font-heading font-bold text-gray-900 leading-tight group-hover:text-primary transition-colors">
                                        {project.title}
                                    </h3>
                                    {project.status === 'construction' && (
                                        <span class="font-mono text-xs text-gray-400 uppercase tracking-wider">
                                            / In Progress
                                        </span>
                                    )}
                                </div>
                                
                                <p class="text-gray-500 text-lg leading-relaxed mb-4 max-w-md">
                                    {project.description}
                                </p>
                                
                                <div class="flex flex-wrap gap-x-4 gap-y-2">
                                    {project.tags.map(tag => (
                                        <span class="text-sm font-mono text-gray-400">#{tag}</span>
                                    ))}
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </section>

            <!-- Certificates List -->
            <section class="mb-32">
                <div class="flex items-end justify-between mb-12 border-b border-black text-black pb-4">
                    <h2 class="font-mono text-sm uppercase tracking-widest">Certifications</h2>
                    <span class="font-mono text-sm">{certificates.length} Credentials</span>
                </div>

                <div class="space-y-0">
                    {certificates.map((cert) => (
                        <a href={cert.link} target="_blank" class="cert-row group block relative py-8 border-b border-gray-200 hover:border-black transition-colors duration-300">
                             <div class="flex flex-col md:flex-row md:items-center gap-6 md:gap-12">
                                <!-- Logo (Smaller & cleaner) -->
                                <div class="w-12 h-12 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity grayscale group-hover:grayscale-0">
                                    <img src={cert.logo} alt={cert.issuer} class="w-full h-full object-contain" />
                                </div>

                                <div class="flex-grow grid grid-cols-1 md:grid-cols-12 gap-4 md:items-center">
                                    <div class="md:col-span-5">
                                        <h3 class="text-xl font-bold text-gray-900 group-hover:text-primary transition-colors">
                                            {cert.title}
                                        </h3>
                                        <p class="text-sm text-gray-500 font-mono mt-1">{cert.issuer}</p>
                                    </div>
                                    
                                    <div class="md:col-span-6">
                                        <p class="text-gray-600 leading-relaxed text-sm">
                                            {cert.description}
                                        </p>
                                    </div>

                                    <div class="md:col-span-1 text-right">
                                        <span class="font-mono text-sm text-gray-400 group-hover:text-black transition-colors">{cert.date}</span>
                                    </div>
                                </div>
                                
                                <div class="hidden md:block opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300">
                                    <ExternalLink className="w-5 h-5 text-primary" />
                                </div>
                             </div>
                        </a>
                    ))}
                </div>
            </section>
        </div>
    </section>

    <script>
        import { gsap } from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";
        gsap.registerPlugin(ScrollTrigger);

        // Header Animation
        gsap.from("h1", { opacity: 0, y: 100, duration: 1.2, ease: "power4.out" });
        gsap.from("p", { opacity: 0, y: 20, duration: 1, delay: 0.2, ease: "power3.out" });

        // Projects Stagger
        gsap.utils.toArray<HTMLElement>('.project-card').forEach((card, i) => {
            gsap.from(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top bottom-=100",
                },
                opacity: 0,
                y: 50,
                duration: 0.8,
                delay: i * 0.1, // simple stagger based on index if rendered sequentially
                ease: "power2.out"
            });
        });

        // Certificates Stagger
        gsap.utils.toArray<HTMLElement>('.cert-card').forEach((row, i) => {
            gsap.from(row, {
                scrollTrigger: {
                    trigger: row,
                    start: "top bottom-=50",
                },
                opacity: 0,
                x: -20,
                duration: 0.6,
                delay: i * 0.1,
                ease: "power2.out"
            });
        });
    </script>
</Layout>
