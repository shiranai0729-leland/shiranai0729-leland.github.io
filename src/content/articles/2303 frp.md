---
title: "Using frp: Introduction and SSH Setup"
description: "A comprehensive guide on setting up frp (fast reverse proxy) to expose local services to the internet, covering installation, configuration, and SSH forwarding."
pubDate: "Dec 17 2023"
tags: ["frp", "reverse-proxy", "ssh", "linux"]
---

# Using frp to Build a Reverse Proxy 01: Introduction and SSH Setup

## 1. About frp

frp (fast reverse proxy) is an open-source reverse proxy application. It works by establishing a persistent connection from a client (Client B, within a private network) to a proxy server (Server A, with a public IP), thereby mapping network services running on Client B to the public internet. It supports TCP, UDP, and HTTP(S) protocols, as well as P2P connection modes.

- frp GitHub Repository: https://github.com/fatedier/frp
- frp Documentation: https://gofrp.org/docs/
- frp Releases: https://github.com/fatedier/frp/releases

The environment used in this tutorial is:
- **Server A (Proxy Server):** CentOS7_amd64
- **Client B (Internal Client):** CentOS7_arm64

This guide details the specific process of setting up the frp service.

## 2. Server A Configuration

### 2.1 Download frp

Run the following commands:

```bash
wget https://github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_amd64.tar.gz
```

```bash
tar -xf frp_0.44.0_linux_amd64.tar.gz
```

```bash
cd frp_0.44.0_linux_amd64/
```

```bash
ls
```

You can see the file structure of the frp project:

```text
.
|-- frpc
|-- frpc_full.ini
|-- frpc.ini
|-- frps
|-- frps_full.ini
|-- frps.ini
|-- LICENSE
```

### 2.2 Configure frp

Run the following command to modify `frps.ini`:

```bash
vi frps.ini
```

Add the following content to the file:

```ini
[common]
bind_port = 7000
dashboard_port = 7500
dashboard_user = admin
dashboard_pwd = yourpassword
```

Save and exit the editor, then run the following command to start the frp service:

```bash
./frps -c ./frps.ini
```

Once successfully started, access the frp dashboard by visiting `http://<server_ip>:7500` in your browser.

**Note: If you cannot access it, please check if ports 7000 and 7500 are open in your firewall.**

## 3. Client B Configuration

### 3.1 Download frp

Similar to step 2.1, download and extract the appropriate frp version for your system architecture (this example uses the arm64 version):

```bash
wget https://github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_arm64.tar.gz
```

```bash
tar -xf frp_0.44.0_linux_arm64.tar.gz
```

```bash
cd frp_0.44.0_linux_arm64/
```

```bash
ls
```

### 3.2 Configure frp

Run the following command to modify `frpc.ini`:

```bash
vi frpc.ini
```

Add the following content to the file:

```ini
[common]
server_addr = <Server_IP_Address>
server_port = 7000

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000
```

Save and exit the editor, then run the following command to start the frp service:

```bash
./frpc -c ./frpc.ini
```

At this point, the reverse proxy has been successfully established. You can now access the internal SSH service via the public IP address on port 6000 (the `remote_port` configured in `frpc.ini`).
